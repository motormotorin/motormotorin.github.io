<!doctype html>
<html>
<title> Campus GIS </title>
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="1026855418031-jadtgqm4q4df08hs5dcf6pcu5ks5qklm.apps.googleusercontent.com">
	<meta name='viewport' content='width=device-width'>
	<link rel="stylesheet" href="https://www.kosmosnimki.ru/lib/geomixer_1.3/geomixer.css" />
	<script src="https://www.kosmosnimki.ru/lib/geomixer_1.3/geomixer-src.js?key=9C499BE03BE6C8E1EEFD68B9EEE17C70"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150818853-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-150818853-1');
	</script>
	<script type="text/javascript" src="https://vk.com/js/api/openapi.js?167"></script>
	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<link rel='stylesheet' href='css/style.css'>
	<link rel='stylesheet' href='https://winnie.kosmosnimki.ru/2.0/winnie_2.0.css'>
</head>

<body>
	<div class="preloader">
		<img class="campus" src="campus_gis.svg"/>
		<svg class="filter" version="1.1">
			<defs>
			  <filter id="gooeyness">
				<feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
				<feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -10" result="gooeyness" />
				<feComposite in="SourceGraphic" in2="gooeyness" operator="atop" />
			  </filter>
			</defs>
		</svg>
		<div class="dots">
		  <div class="dot mainDot"></div>
		  <div class="dot"></div>
		  <div class="dot"></div>
		  <div class="dot"></div>
		  <div class="dot"></div>
		</div>
	</div>
	<div class="open-overlay">
		<span class="bar-top"></span>
		<span class="bar-middle"></span>
		<span class="bar-bottom"></span>
	</div>
	<div id="user-icon" class="not-authorized-user">
		<img class="cover" src="/media/socials/user.svg" alt="">
	</div>
	<div class="menu">
		<nav class="navbar">
			<ul class="side-nav">
				<li class="nav-item">
					<a class="nav-link" href="">About</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="">Feed</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="">Organization</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="">More</a>
				</li>
			</ul>
		</nav>
	</div>
	</div id="map">
		<script src='js/mess.js'></script>
		<script src='js/bus.js'></script>
		<script src='js/config.js'></script>
		<script src='https://winnie.kosmosnimki.ru/2.0/winnie_2.0.js'></script>
	</div>	
	<div id="logo_tele2">
		<img src="css/ext/img/tele2_logo.png" width="100%"></img>
	</div>
	<div class="auth-panel hide">
		<div class="auth">
			<div class="btn-close">
				<span class="line-top"></span>
				<span class="line-bottom"></span>
			</div>
			<div class="substrate">
				<img class="campus-auth" src="campus_gis.svg" alt="">
				<div class="sign-in-text">
					<h3 class="sign-in-text--h3">
						Sign in to get access to additional features of our site 
					</h3>
				</div>
				<div class="auth-methods">
					<!--<div class="g-signin2" data-onsuccess="onSignIn"></div>-->
					<div class="auth-button">
						<div class="mer" data-onsuccess="onSignIn"><img class="social-icon" src="/media/socials/google-icon.svg" alt="Google logo">Sign in with Google</div>
					</div>
					<div class="auth-button">
						<div class="mer"><img class="social-icon" src="/media/socials/vkcom.svg" alt="Vk logo">Sign in with Vk</div>
					</div>
					<div class="auth-button">
						<div class="mer">
							<img class="social-icon" src="/media/socials/twitter.svg" alt="Twitter logo">Sign in with Twitter
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		const burgerBlock = document.querySelector('.open-overlay')
		const topBurgerLine = document.querySelector('.open-overlay .bar-top')
		const middleBurgerLine = document.querySelector('.open-overlay .bar-middle');
		const buttomBurgerLine = document.querySelector('.open-overlay .bar-bottom');
		const rightSideMenu = document.querySelector('.navbar');
		const userIcon = document.querySelector('.not-authorized-user');
		const signInPanel = document.querySelector('.auth-panel');
		const closeSingInPanel = document.querySelector('.btn-close');

		function onSignIn(googleUser) {
			// Useful data for your client-side scripts:
			var profile = googleUser.getBasicProfile();
			console.log("ID: " + profile.getId()); // Don't send this directly to your server!
			console.log('Full Name: ' + profile.getName());
			console.log("Image URL: " + profile.getImageUrl());
			// The ID token you need to pass to your backend:
			var id_token = googleUser.getAuthResponse().id_token;
			console.log("ID Token: " + id_token);
		}
		
		burgerBlock.addEventListener('click', () => {
			topBurgerLine.classList.toggle('open');
			middleBurgerLine.classList.toggle('open');
			buttomBurgerLine.classList.toggle('open');
			rightSideMenu.classList.toggle('open');
			userIcon.classList.toggle('open');
		});
		$(window).on('load', function () {
			var $preloader = $('.preloader');	
			$preloader.delay(1000).fadeOut('slow', function() {
				$(this).remove();
			});
		});

		userIcon.addEventListener('click', () => {
			signInPanel.classList.remove('hide');
			topBurgerLine.classList.toggle('open');
			middleBurgerLine.classList.toggle('open');
			buttomBurgerLine.classList.toggle('open');
			rightSideMenu.classList.toggle('open');
			userIcon.classList.toggle('open');
		});

		closeSingInPanel.addEventListener('click', () => {
			signInPanel.classList.add('hide');
		});


	
	</script>
</body>
</html>
